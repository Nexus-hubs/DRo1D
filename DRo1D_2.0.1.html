<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DRo1D 2.0.1 ⟡ Multilayer Interface</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-black: #000000;
            --text-white: #FFFFFF;
            --accent-cyan: #00F0FF;
            --accent-red: #FF0033;
            --accent-gray: #808080;
            --transition-smooth: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Rajdhani', 'Arial', sans-serif;
            background-color: var(--bg-black);
            color: var(--text-white);
            overflow-x: hidden;
            line-height: 1.6;
            letter-spacing: 0.1em;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Particle Canvas */
        #particleCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.8;
        }

        /* Dimming overlay for deep layers */
        .page-dimmer {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            opacity: 0;
            pointer-events: none;
            z-index: 999;
            transition: var(--transition-smooth);
        }

        .page-dimmer.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 1.5rem 5%;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition-smooth);
        }

        nav.dimmed {
            opacity: 0.5;
        }

        nav .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 900;
            letter-spacing: 0.15em;
            background: linear-gradient(135deg, var(--text-white) 0%, var(--accent-cyan) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            gap: 3rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-white);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            letter-spacing: 0.15em;
            padding: 0.5rem 1.2rem;
            border: 1px solid transparent;
            transition: var(--transition-smooth);
            position: relative;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent-cyan);
            transition: var(--transition-smooth);
        }

        .nav-links a:hover::before,
        .nav-links a.active::before {
            width: 100%;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--accent-cyan);
        }

        /* Breadcrumbs */
        .breadcrumb {
            position: fixed;
            top: 5rem;
            left: 5%;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            color: var(--accent-gray);
            z-index: 1001;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            transition: var(--transition-smooth);
        }

        .breadcrumb.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .breadcrumb span {
            color: var(--text-white);
            margin: 0 0.5rem;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            background:
                radial-gradient(circle at 20% 50%, rgba(0, 240, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(255, 0, 51, 0.03) 0%, transparent 50%),
                var(--bg-black);
            transition: var(--transition-smooth);
        }

        .hero.dimmed {
            opacity: 0.3;
        }

        .hero-title {
            font-family: 'Orbitron', monospace;
            font-size: 6rem;
            font-weight: 900;
            letter-spacing: 0.2em;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInUp 1.2s ease-out 0.3s forwards;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            font-weight: 300;
            letter-spacing: 0.3em;
            color: var(--accent-gray);
            margin-bottom: 3rem;
            opacity: 0;
            animation: fadeInUp 1.2s ease-out 0.6s forwards;
        }

        .hero-cta {
            display: inline-block;
            padding: 1rem 3rem;
            border: 2px solid var(--text-white);
            color: var(--text-white);
            text-decoration: none;
            font-weight: 600;
            letter-spacing: 0.2em;
            transition: var(--transition-smooth);
            opacity: 0;
            animation: fadeInUp 1.2s ease-out 0.9s forwards;
            position: relative;
            overflow: hidden;
        }

        .hero-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--text-white);
            transition: var(--transition-smooth);
            z-index: -1;
        }

        .hero-cta:hover::before {
            left: 0;
        }

        .hero-cta:hover {
            color: var(--bg-black);
        }

        /* Section Styles */
        section {
            min-height: 100vh;
            padding: 8rem 5%;
            position: relative;
            transition: var(--transition-smooth);
        }

        section.dimmed {
            opacity: 0.3;
            filter: blur(2px);
        }

        .section-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 700;
            letter-spacing: 0.2em;
            margin-bottom: 1rem;
            text-align: center;
            position: relative;
        }

        .section-title .deep-indicator {
            font-size: 0.8rem;
            color: var(--accent-cyan);
            margin-left: 1rem;
            opacity: 0;
            transition: var(--transition-smooth);
        }

        .section-title .deep-indicator.active {
            opacity: 1;
        }

        .section-subtitle {
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 0.25em;
            color: var(--accent-gray);
            text-align: center;
            margin-bottom: 5rem;
        }

        /* SYSTEM Section */
        #system {
            background:
                linear-gradient(135deg, transparent 0%, rgba(0, 240, 255, 0.05) 100%),
                var(--bg-black);
        }

        .system-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .system-card {
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem 2rem;
            transition: var(--transition-smooth);
            background: rgba(255, 255, 255, 0.02);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .system-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
            transform: translateX(-100%);
            transition: var(--transition-smooth);
        }

        .system-card::after {
            content: 'ENTER >';
            position: absolute;
            bottom: 2rem;
            right: 2rem;
            font-family: 'Orbitron', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            color: var(--accent-cyan);
            opacity: 0;
            transition: var(--transition-smooth);
        }

        .system-card:hover::before {
            transform: translateX(100%);
        }

        .system-card:hover::after {
            opacity: 1;
        }

        .system-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-10px);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: var(--accent-cyan);
        }

        .card-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            letter-spacing: 0.15em;
            margin-bottom: 1rem;
        }

        .card-description {
            color: var(--accent-gray);
            line-height: 1.8;
            letter-spacing: 0.08em;
        }

        /* Layer 2: Deep Room */
        .deep-room {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(0, 240, 255, 0.02);
            border-top: 1px solid transparent;
            margin-top: 4rem;
        }

        .deep-room.active {
            max-height: 2000px;
            opacity: 1;
            border-top-color: var(--accent-cyan);
            padding: 4rem 0;
        }

        .room-header {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            letter-spacing: 0.2em;
            color: var(--accent-cyan);
            margin-bottom: 3rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--accent-cyan);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-room {
            font-size: 0.8rem;
            color: var(--text-white);
            cursor: pointer;
            transition: var(--transition-smooth);
            padding: 0.5rem 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .close-room:hover {
            color: var(--accent-cyan);
            border-color: var(--accent-cyan);
        }

        .room-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }

        .content-block {
            padding: 2rem;
            border-left: 2px solid rgba(0, 240, 255, 0.3);
            position: relative;
        }

        .content-block h4 {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            letter-spacing: 0.15em;
            margin-bottom: 1rem;
            color: var(--text-white);
        }

        .content-block p {
            color: var(--accent-gray);
            line-height: 1.9;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
        }

        .content-block .detail-link {
            display: inline-block;
            margin-top: 1rem;
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            letter-spacing: 0.15em;
            color: var(--accent-cyan);
            cursor: pointer;
            transition: var(--transition-smooth);
            border-bottom: 1px solid transparent;
        }

        .content-block .detail-link:hover {
            border-bottom-color: var(--accent-cyan);
        }

        .data-flow {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        .flow-step {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .flow-step .step-number {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: var(--accent-cyan);
            margin-bottom: 0.5rem;
        }

        .flow-step .step-label {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            letter-spacing: 0.15em;
            margin-bottom: 0.5rem;
        }

        .flow-step .step-desc {
            font-size: 0.85rem;
            color: var(--accent-gray);
            line-height: 1.6;
        }

        /* AI CORE Section */
        #ai-core {
            background: var(--bg-black);
            display: flex;
            align-items: center;
        }

        .ai-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
        }

        .ai-image {
            width: 100%;
            height: 500px;
            background:
                linear-gradient(45deg, rgba(0, 240, 255, 0.1) 0%, transparent 100%),
                url('https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=800&q=80') center/cover;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .ai-image::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            100% {
                left: 100%;
            }
        }

        .ai-text h2 {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            letter-spacing: 0.15em;
            margin-bottom: 2rem;
            position: relative;
            cursor: pointer;
            display: inline-block;
        }

        .ai-text h2::after {
            content: 'ENTER CORE VIEW';
            display: block;
            font-size: 0.6rem;
            color: var(--accent-cyan);
            margin-top: 0.5rem;
            opacity: 0.7;
            transition: var(--transition-smooth);
        }

        .ai-text h2:hover::after {
            opacity: 1;
            letter-spacing: 0.2em;
        }

        .ai-text p {
            color: var(--accent-gray);
            line-height: 2;
            letter-spacing: 0.08em;
            margin-bottom: 1.5rem;
        }

        /* HARDWARE Section */
        #hardware {
            background:
                linear-gradient(225deg, transparent 0%, rgba(255, 0, 51, 0.05) 100%),
                var(--bg-black);
        }

        .hardware-showcase {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 4rem;
        }

        .hardware-item {
            aspect-ratio: 1/1;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .hardware-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 0, 51, 0.1) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: var(--transition-smooth);
        }

        .hardware-item::after {
            content: 'VIEW SPECS';
            position: absolute;
            bottom: 1.5rem;
            font-family: 'Orbitron', monospace;
            font-size: 0.65rem;
            letter-spacing: 0.15em;
            color: var(--accent-red);
            opacity: 0;
            transition: var(--transition-smooth);
        }

        .hardware-item:hover::before {
            width: 300%;
            height: 300%;
        }

        .hardware-item:hover::after {
            opacity: 1;
        }

        .hardware-item:hover {
            border-color: var(--accent-red);
            transform: scale(1.05);
        }

        .hardware-number {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            font-weight: 900;
            color: var(--accent-red);
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        .hardware-name {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            letter-spacing: 0.15em;
            margin-bottom: 0.5rem;
        }

        .hardware-spec {
            color: var(--accent-gray);
            font-size: 0.9rem;
            letter-spacing: 0.1em;
        }

        /* LAB Section */
        #lab {
            background: var(--bg-black);
        }

        .lab-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 4rem;
        }

        .lab-image {
            height: 400px;
            background-size: cover;
            background-position: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: var(--transition-smooth);
        }

        .lab-image::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            transition: var(--transition-smooth);
        }

        .lab-image::after {
            content: 'EXPLORE PHASE';
            position: absolute;
            top: 2rem;
            right: 2rem;
            font-family: 'Orbitron', monospace;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            color: var(--accent-cyan);
            opacity: 0;
            transition: var(--transition-smooth);
        }

        .lab-image:hover::before {
            background: rgba(0, 0, 0, 0.2);
        }

        .lab-image:hover::after {
            opacity: 1;
        }

        .lab-image:hover {
            transform: scale(1.02);
        }

        .lab-caption {
            position: absolute;
            bottom: 2rem;
            left: 2rem;
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            letter-spacing: 0.15em;
            z-index: 10;
        }

        /* Layer 3: Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition-smooth);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-panel {
            background: var(--bg-black);
            border: 2px solid var(--accent-cyan);
            max-width: 900px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            padding: 3rem;
            position: relative;
            transform: scale(0.9);
            transition: var(--transition-smooth);
        }

        .modal-overlay.active .modal-panel {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--accent-cyan);
        }

        .modal-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            letter-spacing: 0.15em;
            color: var(--text-white);
        }

        .modal-close {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: var(--text-white);
            cursor: pointer;
            transition: var(--transition-smooth);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .modal-close:hover {
            color: var(--accent-cyan);
            border-color: var(--accent-cyan);
            transform: rotate(90deg);
        }

        .modal-body {
            color: var(--accent-gray);
            line-height: 1.9;
            letter-spacing: 0.05em;
        }

        .modal-body h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            color: var(--text-white);
            margin: 2rem 0 1rem 0;
            letter-spacing: 0.15em;
        }

        .modal-body p {
            margin-bottom: 1.5rem;
        }

        .modal-body .code-block {
            background: rgba(255, 255, 255, 0.05);
            border-left: 2px solid var(--accent-cyan);
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
            overflow-x: auto;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 5%;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--accent-gray);
            letter-spacing: 0.2em;
            font-size: 0.9rem;
            position: relative;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 3rem;
            right: 3rem;
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--accent-cyan);
            color: var(--accent-cyan);
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition-smooth);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .back-to-top.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .back-to-top::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, var(--accent-cyan), var(--text-white));
            opacity: 0;
            transition: var(--transition-smooth);
            z-index: -1;
        }

        .back-to-top:hover {
            color: var(--bg-black);
            transform: translateY(-5px);
        }

        .back-to-top:hover::before {
            opacity: 1;
        }

        .back-to-top .arrow {
            transition: var(--transition-smooth);
        }

        .back-to-top:hover .arrow {
            transform: translateY(-3px);
        }

        @media (max-width: 768px) {
            .back-to-top {
                width: 50px;
                height: 50px;
                bottom: 2rem;
                right: 2rem;
                font-size: 1.2rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scroll Reveal */
        .reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease-out;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-title {
                font-size: 4rem;
            }

            .ai-content,
            .room-content {
                grid-template-columns: 1fr;
            }

            .hardware-showcase {
                grid-template-columns: repeat(2, 1fr);
            }

            .data-flow {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                gap: 1.5rem;
                font-size: 0.85rem;
            }

            .hero-title {
                font-size: 3rem;
            }

            .section-title {
                font-size: 2.5rem;
            }

            .hardware-showcase,
            .lab-gallery {
                grid-template-columns: 1fr;
            }

            .modal-panel {
                padding: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Particle Canvas -->
    <canvas id="particleCanvas"></canvas>

    <!-- Page Dimmer -->
    <div class="page-dimmer" id="pageDimmer"></div>

    <!-- Breadcrumb -->
    <div class="breadcrumb" id="breadcrumb">
        DRo1D <span>⟡</span> <span id="breadcrumbPath"></span>
    </div>

    <!-- Navigation -->
    <nav id="mainNav">
        <div class="nav-container">
            <div class="logo">DRo1D 2.0.1 ⟡</div>
            <ul class="nav-links">
                <li><a href="#system" data-section="system">SYSTEM</a></li>
                <li><a href="#ai-core" data-section="ai-core">AI CORE</a></li>
                <li><a href="#hardware" data-section="hardware">HARDWARE</a></li>
                <li><a href="#lab" data-section="lab">LAB</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <h1 class="hero-title">DRo1D 2.0.1</h1>
        <p class="hero-subtitle">MULTILAYER • PRECISION • DEPTH</p>
        <a href="#system" class="hero-cta">INITIALIZE SYSTEM</a>
    </section>

    <!-- SYSTEM Section -->
    <section id="system">
        <div class="section-container reveal">
            <h2 class="section-title">
                SYSTEM
                <span class="deep-indicator" id="systemDeepIndicator">· DEEP VIEW</span>
            </h2>
            <p class="section-subtitle">Core Architecture</p>

            <div class="system-grid">
                <div class="system-card" data-room="neural-engine">
                    <div class="card-icon">⟡</div>
                    <h3 class="card-title">NEURAL ENGINE</h3>
                    <p class="card-description">Advanced computational matrix processing with real-time decision pathways and adaptive learning protocols.</p>
                </div>

                <div class="system-card" data-room="sensor-array">
                    <div class="card-icon">◈</div>
                    <h3 class="card-title">SENSOR ARRAY</h3>
                    <p class="card-description">Multi-spectrum detection grid combining optical, thermal, and spatial awareness in unified datastream.</p>
                </div>

                <div class="system-card" data-room="power-core">
                    <div class="card-icon">✦</div>
                    <h3 class="card-title">POWER CORE</h3>
                    <p class="card-description">Efficient energy distribution system with redundant failsafes and extended operational capacity.</p>
                </div>
            </div>

            <!-- Layer 2: Deep Rooms for SYSTEM -->
            <div class="deep-room" id="neural-engine-room">
                <div class="room-header">
                    <span>SYSTEM ⟡ NEURAL ENGINE ⟡ DEEP VIEW</span>
                    <span class="close-room" data-close="neural-engine-room">CLOSE DEEP VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>ARCHITECTURE</h4>
                        <p>The Neural Engine operates on a hierarchical processing model with 12 parallel computation layers. Each layer specializes in distinct pattern recognition tasks, from low-level signal processing to high-level decision synthesis.</p>
                        <p>Memory pathways are dynamically allocated based on task priority, ensuring critical operations maintain consistent response times even under maximum cognitive load.</p>
                        <span class="detail-link" data-modal="neural-architecture">VIEW ARCHITECTURE MAP</span>
                    </div>
                    <div class="content-block">
                        <h4>LEARNING PROTOCOL</h4>
                        <p>Adaptive algorithms continuously refine neural weights through reinforcement cycles. The system implements a hybrid approach combining supervised training datasets with real-time environmental feedback.</p>
                        <p>Error correction occurs at microsecond intervals, with validation gates preventing corrupted patterns from propagating through the network.</p>
                        <span class="detail-link" data-modal="learning-protocol">VIEW LEARNING LOGS</span>
                    </div>
                </div>
                <div class="data-flow">
                    <div class="flow-step">
                        <div class="step-number">01</div>
                        <div class="step-label">INPUT</div>
                        <div class="step-desc">Sensor data streams enter preprocessing buffers</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">02</div>
                        <div class="step-label">PROCESS</div>
                        <div class="step-desc">Multi-layer neural computation and pattern matching</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-number">03</div>
                        <div class="step-label">OUTPUT</div>
                        <div class="step-desc">Decision signals routed to actuator control systems</div>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="sensor-array-room">
                <div class="room-header">
                    <span>SYSTEM ⟡ SENSOR ARRAY ⟡ DEEP VIEW</span>
                    <span class="close-room" data-close="sensor-array-room">CLOSE DEEP VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>DETECTION SPECTRUM</h4>
                        <p>The array integrates 47 discrete sensors across visual, infrared, ultrasonic, and electromagnetic ranges. Each sensor cluster operates independently while contributing to a unified spatial awareness model.</p>
                        <p>Redundant cross-validation ensures single-sensor failures do not compromise overall perception accuracy.</p>
                        <span class="detail-link" data-modal="sensor-map">VIEW SENSOR MAP</span>
                    </div>
                    <div class="content-block">
                        <h4>DATA FUSION</h4>
                        <p>Raw sensor signals undergo real-time fusion algorithms that combine multiple data streams into coherent environmental representations. Temporal filtering reduces noise while preserving critical rapid-change detection.</p>
                        <p>The fusion layer outputs at 120Hz, providing smooth continuous awareness for downstream systems.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="power-core-room">
                <div class="room-header">
                    <span>SYSTEM ⟡ POWER CORE ⟡ DEEP VIEW</span>
                    <span class="close-room" data-close="power-core-room">CLOSE DEEP VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>ENERGY DISTRIBUTION</h4>
                        <p>High-density battery cells provide 8 hours of continuous operation under standard load. Power management circuits dynamically allocate energy based on subsystem priority hierarchies.</p>
                        <p>Critical systems maintain dedicated power rails with instant failover to backup cells in case of primary circuit failure.</p>
                        <span class="detail-link" data-modal="power-diagram">VIEW POWER DIAGRAM</span>
                    </div>
                    <div class="content-block">
                        <h4>THERMAL MANAGEMENT</h4>
                        <p>Active cooling systems maintain optimal operating temperatures across all components. Heat sensors trigger graduated response protocols, from passive dissipation to active fluid cooling under extreme load.</p>
                        <p>Thermal profiling predicts hotspot formation before critical thresholds are reached.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI CORE Section -->
    <section id="ai-core">
        <div class="section-container reveal">
            <div class="ai-content">
                <div class="ai-image"></div>
                <div class="ai-text">
                    <h2 id="aiCoreTitle">AI CORE</h2>
                    <p>The intelligence layer operates through crystalline logic pathways, executing millions of calculations in parallel streams. Each decision point is weighted, analyzed, and verified through multiple validation gates.</p>
                    <p>This is not simulated intelligence — this is operational consciousness, trained on real-world complexity and optimized for precision response.</p>
                    <p>The system learns continuously, refining its models with every interaction, building toward perfect execution.</p>
                </div>
            </div>

            <!-- Layer 2: AI CORE Deep Room -->
            <div class="deep-room" id="ai-core-room">
                <div class="room-header">
                    <span>AI CORE ⟡ INTERNAL LOGIC ⟡ DEEP VIEW</span>
                    <span class="close-room" data-close="ai-core-room">CLOSE DEEP VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>INPUT LAYER</h4>
                        <p>Sensory streams from multiple sources converge into normalized input buffers. Data validation occurs at ingress points, filtering corrupt or anomalous signals before they enter processing pipelines.</p>
                        <p>Priority queues ensure time-critical inputs bypass standard processing delays, maintaining real-time responsiveness for safety-critical operations.</p>
                        <span class="detail-link" data-modal="input-pipeline">VIEW INPUT PIPELINE</span>
                    </div>
                    <div class="content-block">
                        <h4>PROCESSING CORE</h4>
                        <p>Decision trees branch through parallel evaluation pathways, with each node representing a distinct decision gate. Confidence scoring weights alternative paths, allowing the system to maintain multiple hypothesis threads simultaneously.</p>
                        <p>Validation loops cross-check outputs against expected patterns, triggering re-evaluation cycles when confidence thresholds are not met.</p>
                        <span class="detail-link" data-modal="decision-tree">VIEW DECISION TREE</span>
                    </div>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>OUTPUT LAYER</h4>
                        <p>Finalized decisions translate into actuation commands routed to hardware interfaces. Rate limiting prevents command flooding, while priority escalation allows emergency overrides to preempt standard operations.</p>
                        <p>All output signals are logged for post-operation analysis and continuous model refinement.</p>
                    </div>
                    <div class="content-block">
                        <h4>FEEDBACK MECHANISM</h4>
                        <p>Outcome monitoring compares predicted results against actual system responses. Divergence triggers learning cycles that adjust internal model parameters, progressively improving accuracy over operational lifetime.</p>
                        <p>The feedback loop operates continuously, ensuring the AI evolves with its environment.</p>
                        <span class="detail-link" data-modal="feedback-system">VIEW FEEDBACK SYSTEM</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- HARDWARE Section -->
    <section id="hardware">
        <div class="section-container reveal">
            <h2 class="section-title">
                HARDWARE
                <span class="deep-indicator" id="hardwareDeepIndicator">· DEEP VIEW</span>
            </h2>
            <p class="section-subtitle">Physical Infrastructure</p>

            <div class="hardware-showcase">
                <div class="hardware-item" data-room="processor-room">
                    <div class="hardware-number">01</div>
                    <div class="hardware-name">PROCESSOR</div>
                    <div class="hardware-spec">Quantum-Ready Architecture</div>
                </div>

                <div class="hardware-item" data-room="memory-room">
                    <div class="hardware-number">02</div>
                    <div class="hardware-name">MEMORY</div>
                    <div class="hardware-spec">Adaptive Storage Matrix</div>
                </div>

                <div class="hardware-item" data-room="actuators-room">
                    <div class="hardware-number">03</div>
                    <div class="hardware-name">ACTUATORS</div>
                    <div class="hardware-spec">Precision Motion Control</div>
                </div>

                <div class="hardware-item" data-room="optics-room">
                    <div class="hardware-number">04</div>
                    <div class="hardware-name">OPTICS</div>
                    <div class="hardware-spec">Multi-Wavelength Sensors</div>
                </div>

                <div class="hardware-item" data-room="chassis-room">
                    <div class="hardware-number">05</div>
                    <div class="hardware-name">CHASSIS</div>
                    <div class="hardware-spec">Carbon-Composite Frame</div>
                </div>

                <div class="hardware-item" data-room="interface-room">
                    <div class="hardware-number">06</div>
                    <div class="hardware-name">INTERFACE</div>
                    <div class="hardware-spec">Haptic Feedback System</div>
                </div>
            </div>

            <!-- Layer 2: Hardware Deep Rooms -->
            <div class="deep-room" id="processor-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ PROCESSOR ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="processor-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>ARCHITECTURE</h4>
                        <p>64-core heterogeneous processor architecture combining high-performance computational cores with energy-efficient specialized processing units. Dynamic frequency scaling maintains optimal performance-per-watt ratios across varying workloads.</p>
                        <p>Integrated neural acceleration units provide hardware-level support for AI inference operations, reducing latency by 10x compared to software implementations.</p>
                        <span class="detail-link" data-modal="processor-arch">VIEW CORE LAYOUT</span>
                    </div>
                    <div class="content-block">
                        <h4>PERFORMANCE METRICS</h4>
                        <p>Peak computational throughput: 12 TFLOPS sustained, 18 TFLOPS burst. Memory bandwidth: 512 GB/s. Cache hierarchy: 2MB L1, 32MB L2, 128MB L3.</p>
                        <p>Thermal design power: 95W nominal, 120W maximum with active cooling engaged.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="memory-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ MEMORY ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="memory-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>STORAGE LAYERS</h4>
                        <p>Triple-tier storage architecture: 32GB high-speed SRAM for active processing, 512GB DRAM for working memory, 4TB NVMe solid-state for persistent storage.</p>
                        <p>Intelligent caching algorithms predict data access patterns, pre-loading likely requests into faster tiers before they are needed.</p>
                    </div>
                    <div class="content-block">
                        <h4>DATA INTEGRITY</h4>
                        <p>ECC protection across all memory layers ensures data corruption is detected and corrected in real-time. RAID-equivalent redundancy on persistent storage provides protection against hardware failure.</p>
                        <p>Automated scrubbing routines verify data integrity during idle cycles.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="actuators-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ ACTUATORS ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="actuators-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>MOTION SYSTEMS</h4>
                        <p>24 degrees of freedom distributed across articulated joints. High-torque brushless motors provide precise position control with sub-millimeter accuracy. Encoder feedback loops maintain position lock even under external force.</p>
                    </div>
                    <div class="content-block">
                        <h4>CONTROL INTERFACE</h4>
                        <p>Real-time servo control operates at 1kHz update rate, ensuring smooth coordinated motion across all joints. Motion planning algorithms generate optimal trajectories that minimize energy consumption while maintaining speed targets.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="optics-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ OPTICS ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="optics-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>VISUAL SENSORS</h4>
                        <p>Stereo camera arrays provide depth perception with 0.1mm resolution at 1m distance. HDR imaging captures detail across 20-stop dynamic range, enabling operation in both bright sunlight and near-total darkness.</p>
                    </div>
                    <div class="content-block">
                        <h4>SPECTRAL RANGE</h4>
                        <p>Multi-wavelength sensors span from ultraviolet through visible spectrum into thermal infrared. Specialized filters enable material identification and thermal profiling of objects in the environment.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="chassis-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ CHASSIS ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="chassis-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>STRUCTURAL DESIGN</h4>
                        <p>Carbon fiber composite construction provides exceptional strength-to-weight ratio. Modular design allows field replacement of damaged sections without complete disassembly.</p>
                    </div>
                    <div class="content-block">
                        <h4>PROTECTION</h4>
                        <p>IP67 environmental sealing protects internal components from dust and water ingress. Impact-resistant panels shield critical systems from mechanical damage during operation.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="interface-room">
                <div class="room-header">
                    <span>HARDWARE ⟡ INTERFACE ⟡ SPECIFICATIONS</span>
                    <span class="close-room" data-close="interface-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>COMMUNICATION</h4>
                        <p>Multi-protocol wireless transceivers support WiFi 6E, Bluetooth 5.3, and custom mesh networking. Wired interfaces include USB-C, Ethernet, and CAN bus for industrial integration.</p>
                    </div>
                    <div class="content-block">
                        <h4>HAPTICS</h4>
                        <p>Force feedback actuators provide tactile response during object manipulation. Impedance control allows the system to simulate material properties, providing intuitive interaction feedback.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- LAB Section -->
    <section id="lab">
        <div class="section-container reveal">
            <h2 class="section-title">
                LAB
                <span class="deep-indicator" id="labDeepIndicator">· DEEP VIEW</span>
            </h2>
            <p class="section-subtitle">Development Environment</p>

            <div class="lab-gallery">
                <div class="lab-image" style="background-image: url('https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&q=80');" data-room="assembly-room">
                    <div class="lab-caption">ASSEMBLY</div>
                </div>

                <div class="lab-image" style="background-image: url('https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&q=80');" data-room="testing-room">
                    <div class="lab-caption">TESTING</div>
                </div>

                <div class="lab-image" style="background-image: url('https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=800&q=80');" data-room="calibration-room">
                    <div class="lab-caption">CALIBRATION</div>
                </div>

                <div class="lab-image" style="background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800&q=80');" data-room="deployment-room">
                    <div class="lab-caption">DEPLOYMENT</div>
                </div>
            </div>

            <!-- Layer 2: LAB Deep Rooms -->
            <div class="deep-room" id="assembly-room">
                <div class="room-header">
                    <span>LAB ⟡ ASSEMBLY ⟡ PHASE OVERVIEW</span>
                    <span class="close-room" data-close="assembly-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>COMPONENT INTEGRATION</h4>
                        <p>The assembly phase brings together individually tested subsystems into the complete DRo1D platform. Precision alignment jigs ensure mechanical tolerances are maintained within 0.05mm across all interface points.</p>
                        <p>Each connection undergoes electrical continuity testing and signal integrity validation before permanent fastening.</p>
                        <span class="detail-link" data-modal="assembly-checklist">VIEW ASSEMBLY CHECKLIST</span>
                    </div>
                    <div class="content-block">
                        <h4>QUALITY CONTROL</h4>
                        <p>Visual inspection identifies cosmetic defects and potential stress points. X-ray imaging verifies internal solder joints and connector seating. Final dimensional measurement confirms the assembled unit matches CAD specifications.</p>
                        <p>Any anomalies trigger disassembly and component-level diagnosis before reassembly attempts.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="testing-room">
                <div class="room-header">
                    <span>LAB ⟡ TESTING ⟡ PHASE OVERVIEW</span>
                    <span class="close-room" data-close="testing-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>FUNCTIONAL VALIDATION</h4>
                        <p>Comprehensive test suites exercise every system function under controlled conditions. Sensor accuracy is validated against calibrated reference standards. Actuator performance is measured for speed, precision, and repeatability.</p>
                        <p>AI processing undergoes benchmark evaluations to confirm inference speed and accuracy meet design targets.</p>
                        <span class="detail-link" data-modal="test-protocols">VIEW TEST PROTOCOLS</span>
                    </div>
                    <div class="content-block">
                        <h4>STRESS TESTING</h4>
                        <p>Environmental chambers subject the system to temperature extremes, humidity variation, and vibration profiles that exceed expected operational conditions. Sustained maximum-load testing verifies thermal management and power delivery remain stable under worst-case scenarios.</p>
                        <p>Long-duration endurance runs identify infant mortality failures before units ship.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="calibration-room">
                <div class="room-header">
                    <span>LAB ⟡ CALIBRATION ⟡ PHASE OVERVIEW</span>
                    <span class="close-room" data-close="calibration-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>SENSOR CALIBRATION</h4>
                        <p>Each sensor undergoes individual calibration against traceable reference standards. Camera systems are aligned to ensure stereo correspondence accuracy. IMU bias and scale factors are measured and corrected.</p>
                        <p>Calibration parameters are stored in non-volatile memory, remaining associated with each sensor throughout the system's operational life.</p>
                        <span class="detail-link" data-modal="calibration-data">VIEW CALIBRATION DATA</span>
                    </div>
                    <div class="content-block">
                        <h4>MOTION CALIBRATION</h4>
                        <p>Kinematic models are refined through measured motion sequences. Joint backlash, friction, and compliance are characterized and compensated through control algorithm tuning.</p>
                        <p>The calibration process repeats until motion accuracy consistently meets specification across the full range of motion.</p>
                    </div>
                </div>
            </div>

            <div class="deep-room" id="deployment-room">
                <div class="room-header">
                    <span>LAB ⟡ DEPLOYMENT ⟡ PHASE OVERVIEW</span>
                    <span class="close-room" data-close="deployment-room">CLOSE VIEW</span>
                </div>
                <div class="room-content">
                    <div class="content-block">
                        <h4>FINAL VALIDATION</h4>
                        <p>A complete system checkout verifies all previous testing and calibration remains valid. Documentation packages are generated, including calibration certificates, test results, and configuration files.</p>
                        <p>The system receives its unique serial identifier and is registered in the deployment database.</p>
                        <span class="detail-link" data-modal="deployment-log">VIEW DEPLOYMENT LOG</span>
                    </div>
                    <div class="content-block">
                        <h4>DELIVERY PREPARATION</h4>
                        <p>Protective packaging shields the system during transport. Quick-start guides and operational documentation are included. Remote support credentials are provisioned and tested.</p>
                        <p>Final system state is backed up to secure storage, enabling restoration if field issues require factory reset.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>DRo1D 2.0.1 ⟡ MULTILAYER INTERFACE © 2025</p>
    </footer>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <span class="arrow">↑</span>
    </div>

    <!-- Layer 3: Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-panel">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">MODAL TITLE</div>
                <div class="modal-close" id="modalClose">✕</div>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Modal content will be inserted here -->
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // State management
        let currentLayer = 1;
        let activeRoom = null;
        let currentSection = null;

        // Elements
        const pageDimmer = document.getElementById('pageDimmer');
        const breadcrumb = document.getElementById('breadcrumb');
        const breadcrumbPath = document.getElementById('breadcrumbPath');
        const mainNav = document.getElementById('mainNav');
        const hero = document.getElementById('hero');
        const modalOverlay = document.getElementById('modalOverlay');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const modalClose = document.getElementById('modalClose');

        // Scroll reveal
        const reveals = document.querySelectorAll('.reveal');

        function revealOnScroll() {
            reveals.forEach(element => {
                const windowHeight = window.innerHeight;
                const elementTop = element.getBoundingClientRect().top;
                const revealPoint = 150;

                if (elementTop < windowHeight - revealPoint) {
                    element.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', revealOnScroll);
        revealOnScroll();

        // Parallax effect for hero
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            if (hero) {
                hero.style.transform = `translateY(${scrolled * 0.5}px)`;
                hero.style.opacity = 1 - scrolled / 700;
            }
        });

        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Active navigation highlighting
        const navLinks = document.querySelectorAll('.nav-links a');
        const sections = document.querySelectorAll('section[id]');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-section') === current) {
                    link.classList.add('active');
                    currentSection = current;
                }
            });
        });

        // Layer 2: Open/Close Deep Rooms
        const systemCards = document.querySelectorAll('.system-card[data-room]');
        const hardwareItems = document.querySelectorAll('.hardware-item[data-room]');
        const labImages = document.querySelectorAll('.lab-image[data-room]');
        const aiCoreTitle = document.getElementById('aiCoreTitle');

        function closeAllRooms() {
            document.querySelectorAll('.deep-room').forEach(room => {
                room.classList.remove('active');
            });
            document.querySelectorAll('.deep-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            activeRoom = null;
            currentLayer = 1;
            breadcrumb.classList.remove('active');

            // Remove dimming
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('dimmed');
            });
            hero.classList.remove('dimmed');
            mainNav.classList.remove('dimmed');
        }

        function openRoom(roomId, sectionName, componentName) {
            closeAllRooms();

            const room = document.getElementById(roomId);
            if (room) {
                room.classList.add('active');
                activeRoom = roomId;
                currentLayer = 2;

                // Update breadcrumb
                breadcrumbPath.textContent = `${sectionName.toUpperCase()} ⟡ ${componentName.toUpperCase()}`;
                breadcrumb.classList.add('active');

                // Show deep indicator
                const sectionId = sectionName.toLowerCase().replace(' ', '-');
                const indicator = document.getElementById(`${sectionId}DeepIndicator`);
                if (indicator) {
                    indicator.classList.add('active');
                }

                // Dim other sections
                document.querySelectorAll('section').forEach(section => {
                    if (section.id !== sectionId) {
                        section.classList.add('dimmed');
                    }
                });
                hero.classList.add('dimmed');

                // Scroll to room
                setTimeout(() => {
                    room.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        // System cards
        systemCards.forEach(card => {
            card.addEventListener('click', () => {
                const roomId = card.getAttribute('data-room') + '-room';
                const componentName = card.querySelector('.card-title').textContent;
                openRoom(roomId, 'SYSTEM', componentName);
            });
        });

        // Hardware items
        hardwareItems.forEach(item => {
            item.addEventListener('click', () => {
                const roomId = item.getAttribute('data-room');
                const componentName = item.querySelector('.hardware-name').textContent;
                openRoom(roomId, 'HARDWARE', componentName);
            });
        });

        // Lab images
        labImages.forEach(image => {
            image.addEventListener('click', () => {
                const roomId = image.getAttribute('data-room');
                const componentName = image.querySelector('.lab-caption').textContent;
                openRoom(roomId, 'LAB', componentName);
            });
        });

        // AI Core title
        if (aiCoreTitle) {
            aiCoreTitle.addEventListener('click', () => {
                openRoom('ai-core-room', 'AI CORE', 'INTERNAL LOGIC');
            });
        }

        // Close room buttons
        document.querySelectorAll('.close-room').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                closeAllRooms();
            });
        });

        // Layer 3: Modal System
        const modalContent = {
            'neural-architecture': {
                title: 'NEURAL ENGINE ⟡ ARCHITECTURE MAP',
                content: `
                    <h3>Network Topology</h3>
                    <p>The neural architecture implements a 12-layer deep learning model with residual connections enabling gradient flow across the entire depth. Each layer contains 2048 neurons with ReLU activation functions.</p>

                    <div class="code-block">
LAYER_01: INPUT_BUFFER [2048 nodes]
LAYER_02-11: PROCESSING [2048 nodes each, residual skip]
LAYER_12: OUTPUT_LAYER [512 nodes]
                    </div>

                    <h3>Connection Patterns</h3>
                    <p>Dense connectivity within layers provides maximum information flow. Sparse long-range connections enable feature composition across multiple scales. Attention mechanisms dynamically weight input significance.</p>

                    <p>Total parameters: 47.3 million trainable weights. Memory footprint: 189MB in FP32, 47MB in INT8 quantized inference mode.</p>
                `
            },
            'learning-protocol': {
                title: 'NEURAL ENGINE ⟡ LEARNING LOGS',
                content: `
                    <h3>Training Methodology</h3>
                    <p>Initial supervised training on 2.4 million labeled examples established baseline capability. Ongoing reinforcement learning refines behavior based on operational feedback.</p>

                    <h3>Recent Performance Metrics</h3>
                    <div class="code-block">
ACCURACY: 97.3% (validation set)
LATENCY: 12ms average inference time
IMPROVEMENT: +2.1% over previous model version
TRAINING_CYCLES: 147,382 completed
                    </div>

                    <p>Error analysis reveals remaining failure modes concentrate in edge cases involving extreme lighting conditions and novel object categories not represented in training data.</p>
                `
            },
            'sensor-map': {
                title: 'SENSOR ARRAY ⟡ SPATIAL LAYOUT',
                content: `
                    <h3>Sensor Distribution</h3>
                    <p>47 sensors strategically positioned across the chassis provide 360-degree environmental awareness. Overlapping coverage zones ensure redundancy for critical perception tasks.</p>

                    <div class="code-block">
VISUAL: 8x RGB cameras (4K resolution)
DEPTH: 4x stereo pairs + 2x LiDAR
THERMAL: 6x IR sensors (long-wave)
PROXIMITY: 12x ultrasonic rangefinders
IMU: 3x redundant 9-axis units
TACTILE: 12x force-torque sensors
                    </div>

                    <p>Sensor fusion algorithms combine these streams into unified world representation updated at 120Hz.</p>
                `
            },
            'power-diagram': {
                title: 'POWER CORE ⟡ DISTRIBUTION DIAGRAM',
                content: `
                    <h3>Power Architecture</h3>
                    <p>Multi-rail power delivery ensures stable voltage supply to all subsystems. Isolated domains prevent noise coupling between sensitive analog circuits and high-current digital loads.</p>

                    <div class="code-block">
BATTERY: 8S6P Li-ion (28.8V nominal, 21Ah)
MAIN_BUS: 24V @ 50A continuous
LOGIC_RAIL: 5V @ 15A (isolated)
ANALOG_RAIL: ±15V @ 2A (ultra-low noise)
SERVO_BUS: 12V @ 30A (surge to 60A)
                    </div>

                    <p>Intelligent power management extends runtime by dynamically scaling voltage and frequency based on instantaneous load requirements.</p>
                `
            },
            'input-pipeline': {
                title: 'AI CORE ⟡ INPUT PIPELINE',
                content: `
                    <h3>Data Ingress</h3>
                    <p>Sensor streams enter through dedicated DMA channels, bypassing CPU overhead for maximum throughput. Hardware preprocessing performs color space conversion, scaling, and normalization before data reaches the AI pipeline.</p>

                    <p>Priority scheduling ensures time-critical safety sensor data preempts lower-priority environmental monitoring streams when bus contention occurs.</p>
                `
            },
            'decision-tree': {
                title: 'AI CORE ⟡ DECISION TREE',
                content: `
                    <h3>Evaluation Flow</h3>
                    <p>Decision logic branches through hierarchical evaluation stages, with early-exit paths allowing simple cases to skip deep evaluation. Complex scenarios trigger full network inference with ensemble voting across multiple model variants.</p>

                    <div class="code-block">
STAGE_1: Fast heuristic check (1ms)
  └─ PASS: Execute immediate action
  └─ FAIL: Proceed to STAGE_2
STAGE_2: Neural evaluation (12ms)
  └─ HIGH_CONFIDENCE: Execute action
  └─ LOW_CONFIDENCE: Proceed to STAGE_3
STAGE_3: Ensemble consensus (35ms)
  └─ Aggregate multiple model outputs
  └─ Execute highest-confidence action
                    </div>
                `
            },
            'feedback-system': {
                title: 'AI CORE ⟡ FEEDBACK SYSTEM',
                content: `
                    <h3>Continuous Learning</h3>
                    <p>Every action outcome is logged with associated sensor context. Unexpected results trigger analysis cycles that identify model deficiencies. Updated training sets incorporate these examples, progressively expanding capability boundaries.</p>

                    <p>Learning rate schedules decay over operational lifetime, balancing plasticity for new learning against stability of proven behaviors.</p>
                `
            },
            'processor-arch': {
                title: 'PROCESSOR ⟡ CORE LAYOUT',
                content: `
                    <h3>Core Distribution</h3>
                    <div class="code-block">
PERFORMANCE_CORES: 16x @ 3.2GHz
EFFICIENCY_CORES: 32x @ 1.8GHz
NEURAL_UNITS: 16x AI accelerators
GPU_COMPUTE: 1024 shader cores
                    </div>

                    <p>Heterogeneous architecture allows workload-appropriate core assignment. Real-time tasks run on performance cores with guaranteed latency. Background processing migrates to efficiency cores to minimize power consumption.</p>
                `
            },
            'assembly-checklist': {
                title: 'LAB ⟡ ASSEMBLY CHECKLIST',
                content: `
                    <h3>Assembly Verification</h3>
                    <div class="code-block">
☑ Chassis structural integrity confirmed
☑ All fasteners torqued to specification
☑ Cable routing verified (no pinch points)
☑ Connector seating confirmed (all 147 connections)
☑ Cooling system flow test passed
☑ Weight balance within 2% of nominal
☑ No foreign material detected (camera inspection)
                    </div>

                    <p>Each checklist item requires dual-operator verification before proceeding to next assembly stage.</p>
                `
            },
            'test-protocols': {
                title: 'LAB ⟡ TEST PROTOCOLS',
                content: `
                    <h3>Functional Test Suite</h3>
                    <p>Comprehensive validation covers all operational modes. Tests run automatically with results logged to quality database. Any failure triggers immediate halt and diagnostic mode activation.</p>

                    <div class="code-block">
POWER_UP: All voltage rails stable
SENSOR_SWEEP: All 47 sensors responding
ACTUATOR_TEST: Full range of motion confirmed
AI_BENCHMARK: Inference performance validated
COMMUNICATION: All protocols functioning
THERMAL_PROFILE: Within operating limits
                    </div>

                    <p>Test duration: 47 minutes for complete suite execution.</p>
                `
            },
            'calibration-data': {
                title: 'LAB ⟡ CALIBRATION DATA',
                content: `
                    <h3>Calibration Parameters</h3>
                    <p>Each sensor receives unique calibration constants derived from comparison against traceable reference standards. Constants are stored in tamper-evident non-volatile memory.</p>

                    <div class="code-block">
CAMERA_01:
  focal_length: 3.67mm
  distortion_k1: -0.142
  distortion_k2: 0.031
  calibration_date: 2025-11-08
  reference_std: NIST-2024-A7
                    </div>

                    <p>Calibration validity: 12 months under normal operating conditions. Annual re-calibration recommended for critical applications.</p>
                `
            },
            'deployment-log': {
                title: 'LAB ⟡ DEPLOYMENT LOG',
                content: `
                    <h3>Unit Deployment Record</h3>
                    <div class="code-block">
SERIAL: DR01D-2025-A0472
BUILD_DATE: 2025-11-09
TEST_STATUS: ALL_PASS
CALIBRATION: VALID
FIRMWARE: v2.4.7
DESTINATION: Research Facility Alpha
DEPLOYMENT_DATE: 2025-11-11
                    </div>

                    <p>Complete system state backed up to encrypted storage. Remote support infrastructure provisioned and validated. Unit cleared for operational deployment.</p>
                `
            }
        };

        // Modal trigger links
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('detail-link')) {
                const modalId = e.target.getAttribute('data-modal');
                if (modalContent[modalId]) {
                    openModal(modalId);
                }
            }
        });

        function openModal(contentId) {
            const content = modalContent[contentId];
            if (content) {
                modalTitle.textContent = content.title;
                modalBody.innerHTML = content.content;
                modalOverlay.classList.add('active');
                pageDimmer.classList.add('active');
                currentLayer = 3;

                // Update breadcrumb for Layer 3
                const currentPath = breadcrumbPath.textContent;
                breadcrumbPath.textContent = currentPath + ' ⟡ ' + content.title.split('⟡')[1].trim();
            }
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            pageDimmer.classList.remove('active');
            currentLayer = 2;

            // Restore Layer 2 breadcrumb
            if (activeRoom) {
                const room = document.getElementById(activeRoom);
                const roomHeader = room.querySelector('.room-header span');
                if (roomHeader) {
                    const parts = roomHeader.textContent.split('⟡');
                    breadcrumbPath.textContent = `${parts[0].trim()} ⟡ ${parts[1].trim()}`;
                }
            }
        }

        modalClose.addEventListener('click', closeModal);
        pageDimmer.addEventListener('click', () => {
            if (currentLayer === 3) {
                closeModal();
            } else if (currentLayer === 2) {
                closeAllRooms();
            }
        });

        // Escape key handling
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (currentLayer === 3) {
                    closeModal();
                } else if (currentLayer === 2) {
                    closeAllRooms();
                }
            }
        });

        // Prevent body scroll when modal is open
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.target.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else if (currentLayer === 1) {
                    document.body.style.overflow = 'auto';
                }
            });
        });

        observer.observe(modalOverlay, { attributes: true, attributeFilter: ['class'] });

        // ==================== PARTICLE SYSTEM ====================
        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.size = Math.random() * 3 + 1;
                this.speedX = (Math.random() - 0.5) * 3;
                this.speedY = (Math.random() - 0.5) * 3;
                this.life = 1;
                this.decay = Math.random() * 0.015 + 0.01;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.life -= this.decay;
                this.size *= 0.97;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                ctx.shadowBlur = 10;
                ctx.shadowColor = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        let particles = [];

        function createParticleBurst(x, y, count, color) {
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(x, y, color));
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            particles = particles.filter(particle => particle.life > 0);

            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            requestAnimationFrame(animateParticles);
        }

        animateParticles();

        // Trigger particles on various interactions
        function triggerParticles(element, color, count = 15) {
            const rect = element.getBoundingClientRect();
            const x = rect.left + rect.width / 2;
            const y = rect.top + rect.height / 2;
            createParticleBurst(x, y, count, color);
        }

        // ==================== AUDIO SYSTEM ====================
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx = null;
        let audioEnabled = false;

        // Initialize audio on first user interaction (required by browsers)
        function initAudio() {
            if (!audioCtx) {
                audioCtx = new AudioContext();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            audioEnabled = true;
        }

        // Sound generation functions
        function playSound(type, frequency = 440, duration = 0.1) {
            if (!audioEnabled || !audioCtx) return;

            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            oscillator.type = type; // 'sine', 'square', 'sawtooth', 'triangle'
            oscillator.frequency.value = frequency;

            // Envelope for smooth sound
            gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.15, audioCtx.currentTime + 0.01);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);

            oscillator.start(audioCtx.currentTime);
            oscillator.stop(audioCtx.currentTime + duration);
        }

        function playClickSound() {
            playSound('sine', 800, 0.08);
        }

        function playOpenSound() {
            playSound('sine', 600, 0.15);
            setTimeout(() => playSound('sine', 900, 0.1), 50);
        }

        function playCloseSound() {
            playSound('sine', 900, 0.1);
            setTimeout(() => playSound('sine', 600, 0.15), 50);
        }

        function playHoverSound() {
            playSound('sine', 1200, 0.05);
        }

        function playModalSound() {
            playSound('sine', 500, 0.12);
            setTimeout(() => playSound('sine', 800, 0.12), 60);
            setTimeout(() => playSound('sine', 1100, 0.12), 120);
        }

        // Initialize audio on first click
        document.addEventListener('click', initAudio, { once: true });

        // ==================== INTEGRATE SOUNDS & PARTICLES ====================

        // System cards with particles and sound
        systemCards.forEach(card => {
            card.addEventListener('mouseenter', () => {
                playHoverSound();
            });

            const originalClickHandler = card.onclick;
            card.addEventListener('click', function(e) {
                playOpenSound();
                triggerParticles(this, '#00F0FF', 20);
            });
        });

        // Hardware items
        hardwareItems.forEach(item => {
            item.addEventListener('mouseenter', () => {
                playHoverSound();
            });

            item.addEventListener('click', function(e) {
                playOpenSound();
                triggerParticles(this, '#FF0033', 20);
            });
        });

        // Lab images
        labImages.forEach(image => {
            image.addEventListener('mouseenter', () => {
                playHoverSound();
            });

            image.addEventListener('click', function(e) {
                playOpenSound();
                triggerParticles(this, '#00F0FF', 25);
            });
        });

        // AI Core title
        if (aiCoreTitle) {
            aiCoreTitle.addEventListener('mouseenter', () => {
                playHoverSound();
            });

            aiCoreTitle.addEventListener('click', function(e) {
                playOpenSound();
                triggerParticles(this, '#00F0FF', 20);
            });
        }

        // Close room buttons
        document.querySelectorAll('.close-room').forEach(button => {
            button.addEventListener('click', (e) => {
                e.stopPropagation();
                playCloseSound();
                triggerParticles(button, '#FFFFFF', 15);
            });
        });

        // Detail links (Layer 3 triggers)
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('detail-link')) {
                playModalSound();
                triggerParticles(e.target, '#00F0FF', 30);
            }
        });

        // Modal close
        modalClose.addEventListener('click', function() {
            playCloseSound();
            triggerParticles(this, '#FFFFFF', 20);
        });

        // Hero CTA
        const heroCta = document.querySelector('.hero-cta');
        if (heroCta) {
            heroCta.addEventListener('mouseenter', () => {
                playHoverSound();
            });
            heroCta.addEventListener('click', function(e) {
                playClickSound();
                triggerParticles(this, '#FFFFFF', 25);
            });
        }

        // Nav links
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('mouseenter', () => {
                playHoverSound();
            });
            link.addEventListener('click', function(e) {
                playClickSound();
                triggerParticles(this, '#00F0FF', 12);
            });
        });

        // ==================== BACK TO TOP BUTTON ====================
        const backToTop = document.getElementById('backToTop');

        // Show/hide button based on scroll position
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 500) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // Scroll to top functionality
        backToTop.addEventListener('click', function() {
            // Play sound and particles
            playOpenSound();
            triggerParticles(this, '#00F0FF', 30);

            // Smooth scroll to top
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Hover sound for back to top
        backToTop.addEventListener('mouseenter', () => {
            playHoverSound();
        });
    </script>
</body>
</html>